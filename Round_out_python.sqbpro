<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="Round_out_python.db" readonly="0" foreign_keys="0" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="query structure browser pragmas" current="0"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="4148"/><column_width id="4" width="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><table title="LG_Elect2008" custom_title="0" dock_id="1" table="4,12:mainLG_Elect2008"/><dock_state state="000000ff00000000fd00000001000000020000050d00000381fc0100000001fb000000160064006f0063006b00420072006f007700730065003101000000000000050d0000012400ffffff0000050d0000000000000004000000040000000800000008fc00000000"/><default_encoding codec=""/><browse_table_settings><table schema="main" name="After_AddSen_2008" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="163"/><column index="2" value="300"/><column index="3" value="102"/><column index="4" value="117"/><column index="5" value="130"/><column index="6" value="158"/><column index="7" value="163"/><column index="8" value="174"/><column index="9" value="178"/><column index="10" value="101"/><column index="11" value="116"/><column index="12" value="55"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="After_addRem_2008" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="163"/><column index="2" value="300"/><column index="3" value="102"/><column index="4" value="117"/><column index="5" value="130"/><column index="6" value="158"/><column index="7" value="163"/><column index="8" value="174"/><column index="9" value="178"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="LG_Elect2008" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="40"/><column index="2" value="163"/><column index="3" value="300"/><column index="4" value="102"/><column index="5" value="119"/><column index="6" value="117"/><column index="7" value="105"/><column index="8" value="132"/><column index="9" value="125"/><column index="10" value="154"/><column index="11" value="132"/><column index="12" value="129"/><column index="13" value="159"/><column index="14" value="130"/><column index="15" value="134"/><column index="16" value="140"/><column index="17" value="169"/><column index="18" value="139"/><column index="19" value="145"/><column index="20" value="174"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="LG_Remain2008" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="40"/><column index="2" value="163"/><column index="3" value="300"/><column index="4" value="102"/><column index="5" value="119"/><column index="6" value="117"/><column index="7" value="105"/><column index="8" value="132"/><column index="9" value="125"/><column index="10" value="154"/><column index="11" value="132"/><column index="12" value="129"/><column index="13" value="159"/><column index="14" value="130"/><column index="15" value="134"/><column index="16" value="140"/><column index="17" value="169"/><column index="18" value="139"/><column index="19" value="145"/><column index="20" value="174"/><column index="21" value="144"/><column index="22" value="149"/><column index="23" value="159"/><column index="24" value="164"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Remainder2008" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="163"/><column index="2" value="144"/><column index="3" value="149"/><column index="4" value="159"/><column index="5" value="164"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table></browse_table_settings></tab_browse><tab_sql><sql name="SQL 1">CREATE TABLE After_addRem_2020
AS
Select LG_Elect2020.STATE, LG_Elect2020.Candidate_Name, LG_Elect2020.Candidate_Votes, LG_Elect2020.Num_Reps_Capped,
LG_Elect2020.Num_Reps_Uncapped,
CAST((LG_Elect2020.CapEC_NE_CanVotes + All_Remainder_2020.CapEC_NE_RemainAdd) AS REAL) AS CapEC_NE_CanVote_ARem,
CAST((LG_Elect2020.CapEC_Full_CanVotes + All_Remainder_2020.CapEC_Full_RemainAdd) AS REAL) AS CapEC_Full_CanVote_ARem, 
CAST((LG_Elect2020.UnCapEC_NE_CanVotes + All_Remainder_2020.UnCapEC_NE_RemainAdd) AS REAL) AS UnCapEC_NE_CanVote_ARem, 
CAST((LG_Elect2020.UnCapEC_Full_CanVotes + All_Remainder_2020.UnCapEC_Full_RemainAdd) AS REAL) AS UnCapEC_Full_CanVote_ARem
FROM LG_Elect2020
LEFT JOIN All_Remainder_2020
ON LG_Elect2020.STATE = All_Remainder_2020.STATE
AND LG_Elect2020.Candidate_Name = All_Remainder_2020.Candidate_Name

</sql><sql name="SenCounter">CREATE TABLE SenCount2020
AS
SELECT *,
CAST((Num_Reps_Capped + 2) AS REAL) AS CapEC_Standard,
CAST((Num_Reps_Uncapped + 2) AS REAL) AS UnCapEC_Standard,
CAST((2) AS REAL) AS SenNum
FROM After_addRem_2020
GROUP BY STATE
ORDER BY Candidate_Votes DESC


</sql><sql name="SQL 1 (2)">CREATE TABLE After_AddSen_2020
AS
SELECT After_addRem_2020.*, SenCount2020.CapEC_Standard, SenCount2020.UnCapEC_Standard, SenCount2020.SenNum
FROM After_addRem_2020
LEFT JOIN SenCount2020
ON After_addRem_2020.STATE = SenCount2020.STATE
AND After_addRem_2020.Candidate_Name = SenCount2020.Candidate_Name</sql><sql name="Dropper">DROP TABLE SenCount2008

</sql><sql name="UpdateNull">UPDATE After_AddSen_2020
SET
    CapEC_Standard  = COALESCE(CapEC_Standard, 0),
    UnCapEC_Standard = COALESCE(UnCapEC_Standard, 0),
    SenNum = COALESCE(SenNum, 0)
WHERE
    CapEC_Standard IS NULL OR UnCapEC_Standard IS NULL OR SenNum IS NULL;</sql><sql name="Add_up">SELECT STATE, Candidate_Name, SUM(Num_Reps_Capped), SUM(Num_Reps_Uncapped), SUM(CapEC_Standard) AS Capped_EC_Standard,
CAST(SUM(CapEC_NE_CanVote_ARem + SenNum) AS REAL) AS Capped_EC_NE_Candidate_Vote, SUM(CapEC_Full_CanVote_ARem) AS Capped_EC_Full_Candidate_Vote, 
CAST(SUM(UnCapEC_NE_CanVote_ARem + SenNum) AS REAL) AS UnCapped_EC_NE_Candidate_Vote, SUM(UnCapEC_Full_CanVote_ARem) AS UnCapped_EC_Full_Candidate_Vote
FROM After_AddSen_2020</sql><sql name="Add_up* (1)">SELECT STATE, CAST(FLOOR(ROUND(SUM(CapEC_NE_CanRemainder), 7)/ROUND(CapEC_NE_VotePop, 7)) AS REAL) as &quot;CapEC_NE_CanRemVote&quot;, 
CAST(FLOOR(ROUND(SUM(CapEC_Full_CanRemainder), 7)/ROUND(CapEC_Full_VotePop, 7)) AS REAL) as &quot;CapEC_Full_CanRemVote&quot;,
CAST(FLOOR(ROUND(SUM(UnCapEC_NE_CanRemainder), 7)/ROUND(UnCapEC_NE_VotePop, 7)) AS REAL) as &quot;UnCapEC_NE_CanRemVote&quot;, 
CAST(FLOOR(ROUND(SUM(UnCapEC_Full_CanRemainder), 7)/ROUND(UnCapEC_Full_VotePop, 7)) AS REAL) as &quot;UnCapEC_Full_CanRemVote&quot;
FROM LG_Elect2008
GROUP BY STATE</sql><current_tab id="6"/></tab_sql></sqlb_project>
